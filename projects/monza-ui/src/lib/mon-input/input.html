<label class="mon-input"
    [class]="modelClass"
    [class.is-errored]="isErrored">

    <!-- Top label -->
    @if (label) {
        <div class="mon-input__label">{{ label }}</div>
    }

    <!-- Control -->
    <div class="mon-input__control"
        [attr.data-disabled]="disabled"
        [attr.data-readonly]="readonly">
        @if (prefixTpl) {
            <span class="mon-input__prefix">
                <ng-container [ngTemplateOutlet]="prefixTpl"></ng-container>
            </span>
        }

        <input
            #inputEl
            class="mon-input__native"
            [id]="id"
            [attr.aria-describedby]="describedBy"
            [attr.placeholder]="placeholder || null"
            [readonly]="readonly"
            [disabled]="disabled"
            [type]="inputTypeComputed"
            [value]="value"
            (input)="handleInput($event)"
            (blur)="handleFocusOut()"
        />

        <!-- Clear button -->
         @if (clearable && !!value && !disabled && !readonly && type !== 'password') {
            <button
                type="button"
                class="mon-input__clear"
                (click)="clear()"
                aria-label="Clear">
                <span class="material-symbols-outlined" aria-hidden="true">close</span>
            </button>
         }

        <!-- Password toggle -->
         @if (type === 'password' && showPasswordToggle && !disabled && !readonly) {
            <button
                type="button"
                class="mon-input__toggle"
                (click)="toggleReveal()"
                [attr.aria-pressed]="reveal"
                [attr.aria-label]="reveal ? 'Hide password' : 'Show password'">
                <span class="material-symbols-outlined" aria-hidden="true">
                    {{ reveal ? 'visibility_off' : 'visibility' }}
                </span>
            </button>
         }

        @if (suffixTpl) {
            <span class="mon-input__suffix">
                <ng-container [ngTemplateOutlet]="suffixTpl"></ng-container>
            </span>
        }
    </div>

  <!-- Helper / Error -->
    <div class="mon-input__help" [id]="describedBy">
        @if (!isErrored && helper) {
            <ng-container>{{ helper }}</ng-container>
        }
        @if (isErrored) {
            <ng-container> {{ error || helper }}</ng-container>
        }
    </div>
</label>
